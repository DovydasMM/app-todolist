{"ast":null,"code":"import { map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PostsService {\n  constructor(http) {\n    this.http = http;\n  }\n  createAndStorePost(project) {\n    return this.http.post(\"https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts.json\", project).pipe(map(responseData => {\n      for (const key in responseData) {\n        return responseData[key];\n      }\n    }));\n  }\n  fetchPost() {\n    return this.http.get(\"https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts.json\").pipe(map(responseData => {\n      const projectArray = [];\n      for (const key in responseData) {\n        if (responseData.hasOwnProperty(key)) {\n          projectArray.push({\n            ...responseData[key],\n            id: key\n          });\n        }\n      }\n      return projectArray;\n    }));\n  }\n  deletePost(projectID) {\n    // this.http\n    //   .delete(\n    //     `https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts/${projectID}.json`\n    //   )\n    //   .subscribe((responseData) => console.log(responseData));\n  }\n  updatePost(projectID, newProjectId) {\n    return this.http.patch(`https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts/${projectID}.json`, newProjectId);\n  }\n}\nPostsService.ɵfac = function PostsService_Factory(t) {\n  return new (t || PostsService)(i0.ɵɵinject(i1.HttpClient));\n};\nPostsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PostsService,\n  factory: PostsService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":"AAGA,SAASA,GAAG,QAAQ,MAAM;;;AAK1B,OAAM,MAAOC,YAAY;EACvBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAe;EAEvCC,kBAAkB,CAACC,OAAgB;IACjC,OAAO,IAAI,CAACF,IAAI,CACbG,IAAI,CACH,kFAAkF,EAClFD,OAAO,CACR,CACAE,IAAI,CACHP,GAAG,CAAEQ,YAAY,IAAI;MACnB,KAAK,MAAMC,GAAG,IAAID,YAAY,EAAE;QAC9B,OAAOA,YAAY,CAACC,GAAG,CAAC;;IAE5B,CAAC,CAAC,CACH;EACL;EAEAC,SAAS;IACP,OAAO,IAAI,CAACP,IAAI,CACbQ,GAAG,CACF,kFAAkF,CACnF,CACAJ,IAAI,CACHP,GAAG,CAAEQ,YAAY,IAAI;MACnB,MAAMI,YAAY,GAAG,EAAE;MACvB,KAAK,MAAMH,GAAG,IAAID,YAAY,EAAE;QAC9B,IAAIA,YAAY,CAACK,cAAc,CAACJ,GAAG,CAAC,EAAE;UACpCG,YAAY,CAACE,IAAI,CAAC;YAAE,GAAGN,YAAY,CAACC,GAAG,CAAC;YAAEM,EAAE,EAAEN;UAAG,CAAE,CAAC;;;MAGxD,OAAOG,YAAY;IACrB,CAAC,CAAC,CACH;EACL;EAEAI,UAAU,CAACC,SAAiB;IAC1B;IACA;IACA;IACA;IACA;EAAA;EAGFC,UAAU,CAACD,SAAiB,EAAEE,YAAY;IACxC,OAAO,IAAI,CAAChB,IAAI,CAACiB,KAAK,CACpB,+EAA+EH,SAAS,OAAO,EAC/FE,YAAY,CACb;EACH;;AAjDWlB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAoB,SAAZpB,YAAY;EAAAqB,YAFX;AAAM","names":["map","PostsService","constructor","http","createAndStorePost","project","post","pipe","responseData","key","fetchPost","get","projectArray","hasOwnProperty","push","id","deletePost","projectID","updatePost","newProjectId","patch","factory","providedIn"],"sourceRoot":"","sources":["/home/dovydas/repos/app-todolist/src/app/posts.service.ts"],"sourcesContent":["import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Project } from \"./shared/task/project.model\";\nimport { map } from \"rxjs\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class PostsService {\n  constructor(private http: HttpClient) {}\n\n  createAndStorePost(project: Project) {\n    return this.http\n      .post(\n        \"https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts.json\",\n        project\n      )\n      .pipe(\n        map((responseData) => {\n          for (const key in responseData) {\n            return responseData[key];\n          }\n        })\n      );\n  }\n\n  fetchPost() {\n    return this.http\n      .get(\n        \"https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts.json\"\n      )\n      .pipe(\n        map((responseData) => {\n          const projectArray = [];\n          for (const key in responseData) {\n            if (responseData.hasOwnProperty(key)) {\n              projectArray.push({ ...responseData[key], id: key });\n            }\n          }\n          return projectArray;\n        })\n      );\n  }\n\n  deletePost(projectID: string) {\n    // this.http\n    //   .delete(\n    //     `https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts/${projectID}.json`\n    //   )\n    //   .subscribe((responseData) => console.log(responseData));\n  }\n\n  updatePost(projectID: string, newProjectId) {\n    return this.http.patch(\n      `https://poor-mans-todo-default-rtdb.europe-west1.firebasedatabase.app/posts/${projectID}.json`,\n      newProjectId\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}